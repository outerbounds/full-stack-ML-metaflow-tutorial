import tempfile


class KerasModel:
    @classmethod
    def save_model(cls, model):
        import tensorflow as tf

        with tempfile.NamedTemporaryFile() as f:
            tf.keras.models.save_model(model, f.name, save_format="h5")
            return f.read()

    @classmethod
    def load_model(cls, blob):
        import tensorflow as tf

        with tempfile.NamedTemporaryFile() as f:
            f.write(blob)
            f.flush()
            return tf.keras.models.load_model(f.name)
